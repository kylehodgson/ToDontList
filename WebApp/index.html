<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>To Don't List</title>
    <link href="style/main.css" rel="stylesheet" />
    <script type="text/javascript" src="Scripts/knockout-2.2.1.js"></script>
    <script type="text/javascript" src="src/ToDontList.js"></script>
</head>
    <body>
        <div id="wrap">
            <h1>Don't Do These Things!</h1>
        
        <div id="additem" >
            <form>
                <h2>Add Item</h2>
                <div>Title:</div>
                <input type="text" name="title" size="45" data-bind="value: title"/>
                <div>Description:</div>
                <textarea cols="35" rows="3" name="description" data-bind="value: description" ></textarea>
                <input type="button" value="Add" data-bind="click: add_item"/>
                <h2>Save Items</h2>
                <input type="button" value="Save" data-bind="click: save"/>
            </form>
        </div>

        <div id="itemlist" >
            <ul data-bind="foreach: items">
                <li>
                    <h3 data-bind="text: title, css: { finished: complete }" ></h3>
                    <div data-bind="text: description, css: { finished: complete }"></div>
                    <a href="#" data-bind="click: $parent.delete_item">remove</a> |
                    <a href="#" data-bind="click: $parent.mark_complete">finished</a>
                </li>
            </ul>
        </div>
            
        </div>
        
    
        <script type="text/javascript">
            
            var stub_service = new function () {
                this.save = function (data) {
                    alert("Saving data: " + data);
                };
            };
            
            var initial_list = [
                { "title": "Thing not to do.", "description": "Please do not do this thing." , "complete": false},
                { "title": "Another thing not to do.", "description": "Please do not do this other thing.", "complete": false }];
            
            var viewModel = new ToDontList(initial_list, stub_service);
            ko.applyBindings(viewModel);
        </script>
    </body>
</html>
